# Clash é«˜æ€§èƒ½é…ç½®æ–‡ä»¶
# æ ¸å¿ƒåŠŸèƒ½ï¼šåŒºåŸŸèŠ‚ç‚¹è‡ªåŠ¨é€‰æ‹©ã€æ•…éšœè½¬ç§»ã€è´Ÿè½½å‡è¡¡ã€æ‰‹åŠ¨åˆ‡æ¢
# ä¼˜åŒ–è¯´æ˜ï¼šç²¾ç®€æ— æ•ˆè§„åˆ™ã€ä¼˜åŒ–èŠ‚ç‚¹ç­›é€‰é€»è¾‘ã€é™ä½èµ„æºå ç”¨

# ========================= è§„åˆ™æä¾›å•†é…ç½® =========================
# ä»…ä¿ç•™æ ¸å¿ƒè§„åˆ™é›†ï¼ˆä¸­å›½å¤§é™†/éä¸­å›½å¤§é™†/ç§æœ‰åŸŸåï¼‰ï¼Œå‡å°‘è§„åˆ™åŠ è½½è€—æ—¶
rule-providers:
  # ç§æœ‰åŸŸåè§„åˆ™ï¼ˆå±€åŸŸç½‘ã€æœ¬åœ°æœåŠ¡ç­‰ï¼Œç›´æ¥è¿æ¥ï¼‰
  private:
    url: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.yaml
    path: ./ruleset/private.yaml  # æœ¬åœ°ç¼“å­˜è·¯å¾„ï¼Œé¿å…é‡å¤ä¸‹è½½
    behavior: domain  # è§„åˆ™ç±»å‹ï¼šåŸŸååŒ¹é…
    interval: 86400   # æ¯æ—¥æ›´æ–°1æ¬¡ï¼Œå¹³è¡¡æ—¶æ•ˆæ€§ä¸èµ„æºå ç”¨
    format: yaml
    type: http

  # ä¸­å›½å¤§é™†åŸŸåè§„åˆ™ï¼ˆå›½å†…ç½‘ç«™ï¼Œèµ°æœ¬åœ°ç½‘ç»œï¼‰
  cn_domain:
    url: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.yaml
    path: ./ruleset/cn_domain.yaml
    behavior: domain
    interval: 86400
    format: yaml
    type: http

  # ä¸­å›½å¤§é™†IPè§„åˆ™ï¼ˆå›½å†…IPæ®µï¼Œèµ°æœ¬åœ°ç½‘ç»œï¼‰
  cn_ip:
    url: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.yaml
    path: ./ruleset/cn_ip.yaml
    behavior: ipcidr  # è§„åˆ™ç±»å‹ï¼šIPæ®µåŒ¹é…
    interval: 86400
    format: yaml
    type: http

  # éä¸­å›½å¤§é™†åŸŸåè§„åˆ™ï¼ˆå¢ƒå¤–ç½‘ç«™ï¼Œèµ°ä»£ç†ï¼‰
  geolocation-!cn:
    url: https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.yaml
    path: ./ruleset/geolocation-!cn.yaml
    behavior: domain
    interval: 86400
    format: yaml
    type: http

# ========================= ä»£ç†ç»„é…ç½® =========================
# æŒ‰ã€ŒåŠŸèƒ½ä¼˜å…ˆçº§ã€æ’åºï¼Œæ ¸å¿ƒç»„å‰ç½®ï¼Œä¾¿äºå·¥å…·åŠ è½½ä¸ç”¨æˆ·æ“ä½œ
proxy-groups:
  # 1. æ‰‹åŠ¨åˆ‡æ¢æ€»å…¥å£ï¼ˆç”¨æˆ·ä¸»åŠ¨é€‰æ‹©æ‰€éœ€åŠŸèƒ½/èŠ‚ç‚¹ï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼‰
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Static.png
    name: æ‰‹åŠ¨åˆ‡æ¢
    type: select  # ç±»å‹ï¼šæ‰‹åŠ¨é€‰æ‹©
    proxies:
      - è‡ªåŠ¨é€‰æ‹©    # ä¼˜å…ˆæ¨èï¼šæ™ºèƒ½é€‰æœ€ä¼˜èŠ‚ç‚¹
      - æ•…éšœè½¬ç§»    # å¤‡ç”¨ï¼šèŠ‚ç‚¹å¤±æ•ˆæ—¶è‡ªåŠ¨åˆ‡æ¢
      - è´Ÿè½½å‡è¡¡    # åœºæ™¯åŒ–ï¼šå¤šèŠ‚ç‚¹åˆ†æµï¼Œé€‚åˆé«˜å¹¶å‘
      - é¦™æ¸¯èŠ‚ç‚¹    # åŒºåŸŸèŠ‚ç‚¹ï¼šä½å»¶è¿Ÿä¼˜å…ˆ
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹

  # 2. è‡ªåŠ¨é€‰æ‹©ï¼ˆæ™ºèƒ½URLæµ‹è¯•ï¼Œé€‰å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ï¼Œæ—¥å¸¸é»˜è®¤ä½¿ç”¨ï¼‰
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Urltest.png
    name: è‡ªåŠ¨é€‰æ‹©
    type: url-test  # ç±»å‹ï¼šURLæµ‹è¯•ï¼ˆæµ‹å»¶è¿Ÿé€‰æœ€ä¼˜ï¼‰
    interval: 300   # 5åˆ†é’Ÿæµ‹è¯•1æ¬¡ï¼Œå¹³è¡¡çµæ•åº¦ä¸èµ„æºå ç”¨
    timeout: 5      # è¶…æ—¶æ—¶é—´5ç§’ï¼Œé¿å…æ— æ•ˆç­‰å¾…ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
    retries: 2      # é‡è¯•2æ¬¡ï¼Œå‡å°‘æµ‹è¯•è¯¯å·®ï¼ˆå‡†ç¡®æ€§ä¼˜åŒ–ï¼‰
    url: https://www.gstatic.com/generate_204  # ç¨³å®šæµ‹è¯•åœ°å€ï¼ˆè°·æ­Œ204ï¼Œæ— å†…å®¹åŠ è½½å¿«ï¼‰
    include-all: true  # åŒ…å«æ‰€æœ‰å¯ç”¨å­èŠ‚ç‚¹
    # æ’é™¤å¤±æ•ˆ/ä»˜è´¹èŠ‚ç‚¹ï¼ˆé¿å…é€‰ä¸­ä¸å¯ç”¨èŠ‚ç‚¹ï¼Œæ€§èƒ½+ä½“éªŒä¼˜åŒ–ï¼‰
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®|å¤±æ•ˆ|ä¸å¯ç”¨|ä»˜è´¹|VIP
    proxies:  # å­èŠ‚ç‚¹ï¼šæŒ‰ç‰©ç†è·ç¦»æ’åºï¼Œä¼˜å…ˆä½å»¶è¿ŸåŒºåŸŸ
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹

  # 3. åŒºåŸŸèŠ‚ç‚¹ç»„ï¼ˆæŒ‰ã€Œç‰©ç†è·ç¦»+å¸¸ç”¨åº¦ã€æ’åºï¼Œä¾¿äºè‡ªåŠ¨é€‰æ‹©ä¼˜å…ˆçº§ï¼‰
  # é¦™æ¸¯èŠ‚ç‚¹ï¼šåŒ¹é…å¸¸è§å‘½åï¼ˆå¦‚â€œé¦™æ¸¯CN2â€â€œHK-BGPâ€ç­‰ï¼Œé¿å…æ¼é€‰ï¼‰
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/HK.png
    name: é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    interval: 300
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    # ç­›é€‰å…³é”®è¯ï¼šè¦†ç›–â€œé¦™æ¸¯â€â€œHKâ€åŠå¸¸è§è¿è¥å•†/çº¿è·¯æ ‡è¯†ï¼ˆèŠ‚ç‚¹é€‚é…æ ¸å¿ƒï¼‰
    filter: (?i)é¦™æ¸¯|Hong Kong|HK|ğŸ‡­ğŸ‡°|HKG|é¦™æ¸¯CN2|é¦™æ¸¯BGP|é¦™æ¸¯PCCW|é¦™æ¸¯äº‘|HK-CN2|HK-BGP

  # å°æ¹¾èŠ‚ç‚¹ï¼šåŒ¹é…â€œå°æ¹¾â€â€œTWâ€åŠä¸­åç”µä¿¡/è¿œä¼ ç­‰è¿è¥å•†
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/TW.png
    name: å°æ¹¾èŠ‚ç‚¹
    type: url-test
    interval: 300
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    filter: (?i)å°æ¹¾|Taiwan|TW|ğŸ‡¹ğŸ‡¼|TWN|å°æ¹¾ä¸­åç”µä¿¡|å°æ¹¾è¿œä¼ |å°æ¹¾äº‘|TW-Hinet|TW-FarEasTone

  # ç‹®åŸèŠ‚ç‚¹ï¼ˆæ–°åŠ å¡ï¼‰ï¼šåŒ¹é…â€œæ–°åŠ å¡â€â€œSGâ€åŠSingtel/M1è¿è¥å•†
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/SG.png
    name: ç‹®åŸèŠ‚ç‚¹
    type: url-test
    interval: 300
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    filter: (?i)æ–°åŠ å¡|Singapore|SG|ğŸ‡¸ğŸ‡¬|SIN|ç‹®åŸ|æ–°åŠ å¡Singtel|æ–°åŠ å¡M1|SG-Singtel|SG-M1

  # æ—¥æœ¬èŠ‚ç‚¹ï¼šåŒ¹é…â€œæ—¥æœ¬â€â€œJPâ€åŠä¸œäº¬/å¤§é˜ªåŸå¸‚ã€SoftBankè¿è¥å•†
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/JP.png
    name: æ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    interval: 300
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    filter: (?i)æ—¥æœ¬|Japan|JP|ğŸ‡¯ğŸ‡µ|JPN|ä¸œäº¬|å¤§é˜ª|æ—¥æœ¬SoftBank|æ—¥æœ¬KDDI|JP-Tokyo|JP-Osaka

  # ç¾å›½èŠ‚ç‚¹ï¼šåŒ¹é…â€œç¾å›½â€â€œUSâ€åŠæ´›æ‰çŸ¶/çº½çº¦åŸå¸‚ã€AT&Tè¿è¥å•†
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/US.png
    name: ç¾å›½èŠ‚ç‚¹
    type: url-test
    interval: 300
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    filter: (?i)ç¾å›½|USA|US|ğŸ‡ºğŸ‡¸|USA|æ´›æ‰çŸ¶|çº½çº¦|ç¾å›½AT&T|ç¾å›½Verizon|US-LA|US-NY

  # éŸ©å›½èŠ‚ç‚¹ï¼šåŒ¹é…â€œéŸ©å›½â€â€œKRâ€åŠé¦–å°”åŸå¸‚ã€SKTC/KTè¿è¥å•†
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/KR.png
    name: éŸ©å›½èŠ‚ç‚¹
    type: url-test
    interval: 300
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    filter: (?i)éŸ©å›½|Korea|KR|ğŸ‡°ğŸ‡·|KOR|é¦–å°”|éŸ©å›½SKTC|éŸ©å›½KT|KR-Seoul|KR-SKTC

  # 4. æ•…éšœè½¬ç§»ï¼ˆèŠ‚ç‚¹å¤±æ•ˆæ—¶è‡ªåŠ¨åˆ‡æ¢å¤‡ç”¨ï¼Œä¿éšœè¿æ¥ç¨³å®šæ€§ï¼‰
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Backup.png
    name: æ•…éšœè½¬ç§»
    type: fallback  # ç±»å‹ï¼šæ•…éšœè½¬ç§»ï¼ˆæŒ‰é¡ºåºæµ‹ï¼Œç¬¬ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹ç”Ÿæ•ˆï¼‰
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    # ä¼˜å…ˆçº§ï¼šæŒ‰ç‰©ç†è·ç¦»æ’åºï¼ˆè¿‘â†’è¿œï¼‰ï¼Œä¼˜å…ˆåˆ‡æ¢ä½å»¶è¿ŸèŠ‚ç‚¹
    proxies:
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹

  # 5. è´Ÿè½½å‡è¡¡ï¼ˆå¤šèŠ‚ç‚¹åˆ†æµè¯·æ±‚ï¼Œé™ä½å•èŠ‚ç‚¹å‹åŠ›ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ï¼‰
  - icon: https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Balance.png
    name: è´Ÿè½½å‡è¡¡
    type: load-balance  # ç±»å‹ï¼šè´Ÿè½½å‡è¡¡
    strategy: least-delay  # ç­–ç•¥ï¼šä¼˜å…ˆåˆ†é…è‡³å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
    interval: 300  # 5åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡èŠ‚ç‚¹å»¶è¿Ÿï¼Œä¿è¯åˆ†é…å‡†ç¡®æ€§
    timeout: 5
    retries: 2
    url: https://www.gstatic.com/generate_204
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
    proxies:  # å‚ä¸åˆ†æµèŠ‚ç‚¹ï¼šè¦†ç›–æ‰€æœ‰åŒºåŸŸï¼Œä¿è¯åˆ†æµæ•ˆæœ
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹

# ========================= è§„åˆ™é…ç½® =========================
# æŒ‰ã€ŒåŒ¹é…ä¼˜å…ˆçº§ã€æ’åºï¼ˆç²¾å‡†è§„åˆ™â†’é€šç”¨è§„åˆ™â†’å…œåº•è§„åˆ™ï¼‰ï¼Œå‡å°‘è§„åˆ™åŒ¹é…è€—æ—¶
rules:
  # 1. ç§æœ‰åŸŸåï¼šå±€åŸŸç½‘/æœ¬åœ°æœåŠ¡ï¼Œç›´æ¥è¿æ¥ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼Œé¿å…ç»•è·¯ï¼‰
  - "RULE-SET,private,DIRECT"
  # 2. ä¸­å›½å¤§é™†åŸŸå+IPï¼šå›½å†…ç½‘ç«™ï¼Œç›´æ¥è¿æ¥ï¼ˆæ¬¡é«˜ä¼˜å…ˆçº§ï¼Œä¿éšœå›½å†…è®¿é—®é€Ÿåº¦ï¼‰
  - "RULE-SET,cn_domain,DIRECT"
  - "RULE-SET,cn_ip,DIRECT"
  # 3. éä¸­å›½å¤§é™†åŸŸåï¼šå¢ƒå¤–ç½‘ç«™ï¼Œèµ°è‡ªåŠ¨é€‰æ‹©ï¼ˆé€šç”¨ä»£ç†è§„åˆ™ï¼Œå¹³è¡¡é€Ÿåº¦ä¸ç¨³å®šæ€§ï¼‰
  - "RULE-SET,geolocation-!cn,è‡ªåŠ¨é€‰æ‹©"
  # 4. å…œåº•è§„åˆ™ï¼šæœªåŒ¹é…ä»»ä½•è§„åˆ™çš„è¯·æ±‚ï¼Œèµ°è‡ªåŠ¨é€‰æ‹©ï¼ˆé¿å…æ¼èµ°ä»£ç†ï¼Œä¿éšœå…¼å®¹æ€§ï¼‰
  - "MATCH,è‡ªåŠ¨é€‰æ‹©"
